(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2313],{94:(e,t,i)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/blog/2021-03-11-jekyll-on-digital-ocean",function(){return i(6619)}])},6619:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>g}),i(8230);var l=i(7328),o=i.n(l),n=i(7534),a=i(2677),s=i(4587),r=i.n(s),c=i(8847),d=i.n(c),h=i(7876),u=d()(function(){return Promise.all([i.e(4352),i.e(1542),i.e(3195)]).then(i.bind(i,3195))},{ssr:!1,loadableGenerated:{webpack:function(){return[3195]}}}),p="\nbundle lock --add-platform x86_64-linux\n".trim();function g(){var e="Jekyll Static Sites on the Digital App Platform";return(0,h.jsxs)(a.A,{children:[(0,h.jsxs)(o(),{children:[(0,h.jsxs)("title",{children:[e," - ",n.z]}),(0,h.jsx)("meta",{name:"description",content:"This tutorial describes how to host your Jekyll static site (including plugins) on the new Digital Ocean App Platform."})]}),(0,h.jsxs)("section",{"aria-labelledby":"main-content",children:[(0,h.jsx)("h1",{id:"main-content",children:e}),(0,h.jsx)("p",{children:"This tutorial describes how to host your Jekyll static site (including plugins) on the new Digital Ocean App Platform."}),(0,h.jsx)("h2",{children:"Requirements"}),(0,h.jsxs)("ul",{className:"list-disc list-inside m-2",children:[(0,h.jsx)("li",{children:"A github or gitlab account"}),(0,h.jsx)("li",{children:"A Digital Ocean Account (can be created for free)"}),(0,h.jsx)("li",{children:"Your Jekyll site has a successful build on your local machine as well as your Ruby version in your GemFile"})]}),(0,h.jsx)("h2",{children:"Create your App"}),(0,h.jsxs)("p",{children:["The first step in creating the app, is to ",(0,h.jsx)("a",{className:"underline focus:ring-2",href:"https://www.digitalocean.com/products/app-platform/",rel:"nofollow noreferrer",children:"access the Digital Ocean App Platform"}),'. Once your account you are logged into the platform, click on the "Create App" button as seen below.']}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-click-create-app.png",alt:"",width:800,height:133,priority:!0}),(0,h.jsx)("h3",{children:"Step 1: Select your source"}),(0,h.jsx)("p",{children:'The App platform allows sources of Github or Gitlab. Choose one, and then let Digital Ocean have permission to access your repository. Make sure "auto deploy" is selected if you want your site updated whenever your commit code to your repository. Click "next" to move to the next step.'}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-step-1.png",alt:"",width:800,height:503,priority:!1}),(0,h.jsx)("h3",{children:"Step 2: Configure Your app"}),(0,h.jsx)("p",{children:"In this section there are 3 steps you must ensure to hae a Jekyll site on the static platform:"}),(0,h.jsxs)("ol",{className:"list-decimal list-inside m-2",children:[(0,h.jsx)("li",{children:"Ensure static site is selected (it may default to web service)"}),(0,h.jsx)("li",{children:'Ensure your build command matches is correct. If its not, click the "edit" button to make your changes, then "close" to save it.'}),(0,h.jsx)("li",{children:"Make sure you update your output directory (where the files will be built)."})]}),(0,h.jsx)("p",{children:'Now, click "next" to move to the next step.'}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-step-2.png",alt:"",width:652,height:1079,priority:!1}),(0,h.jsx)("h3",{children:"Step 3: Name Your Static Site"}),(0,h.jsx)("p",{children:"This is the name you will see on your dashboard, as well as becoming a part of what your live url will be (before a custom domain). Choose one, then click next."}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-step-3.png",alt:"",width:548,height:394,priority:!1}),(0,h.jsx)("h3",{children:"Step 4: Finalize and Launch"}),(0,h.jsx)("p",{children:'Starter plan should be selected by default, as its a static site. Make sure to select "Starter plan" if there is a different default selected. Finally click "Launch Starter App".'}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-step-4.png",alt:"",width:800,height:709,priority:!1}),(0,h.jsx)("h2",{children:"Initial Deploy"}),(0,h.jsx)("p",{children:'The page should now look similar to below that displays the current build status, as well as other information. Click "view logs" in the build status message to see live output of your app being build.'}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-initial-deploy.png",alt:"",width:800,height:303,priority:!1}),(0,h.jsx)("h2",{children:"Fixing a Build Error"}),(0,h.jsx)("p",{children:"If your not building on a Linux machine, you may run into the error message about being on an unsupported platform."}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-initial-deploy-fail-log.png",alt:"",width:800,height:284,priority:!1}),(0,h.jsx)("p",{children:"In the terminal, you will need to add the linux platform to your gemlock file as indicated in the instructions from the server log output. From my output, I needed to run  the below command. The image below shows the terminal output."}),(0,h.jsx)(u,{code:p,language:"shell-session",plugins:["line-numbers"]}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-add-do-platform-bundle.png",alt:"",width:593,height:182,priority:!1}),(0,h.jsx)("p",{children:'Be sure to commit your changes to your remote repository. Your site should automatically start trying to build again. If you have "auto deploy" turned off, yu will need to manual;y deploy from the app platform interface.'}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-redeploy.png",alt:"",width:800,height:355,priority:!1}),(0,h.jsx)("p",{children:'Click the "view logs" from the build message alert again to see the status. If it fails, (for example missing packages), be sure to add them to your bundle, then recommit your files.'}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-redeploy-log.png",alt:"",width:800,height:340,priority:!1}),(0,h.jsxs)("p",{children:["When you have a successful build, the interface will update with your live link. Click your digital ocean domain to have a look (if will be under your app name). For example, my link is: ",(0,h.jsx)("a",{className:"underline focus:ring-2",href:"https://jekyll-site-cick5.ondigitalocean.app/",children:"https://jekyll-site-cick5.ondigitalocean.app/"})]}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-redeploy-sucess.png",alt:"",width:800,height:850,priority:!1}),(0,h.jsx)("h2",{children:"Configure your Custom Domain"}),(0,h.jsx)("p",{children:'For this step, you will need to click the "settings" tab, then scroll down to the domains section and click the edit button.'}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-settings-domain-configure.png",alt:"",width:800,height:590,priority:!1}),(0,h.jsx)("p",{children:'An "add" button will appear under your current site. Click the add button to proceed to the next step.'}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-click-add-domain-configure.png",alt:"Screenshot",width:800,height:355,priority:!1}),(0,h.jsxs)("p",{children:['You will be brought to a screen titled "Add Domain". Fill in your domain name, and select how whether you want digital ocean to manage, or to add a CNAME (in my instance DNS is selected). For more information the differences check out: ',(0,h.jsx)("a",{className:"underline focus:ring-2",href:"https://www.digitalocean.com/docs/app-platform/how-to/manage-domains/",rel:"nofollow noreferrer",children:"How to Manage Domains in App Platform"}),"."]}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-create-app-assign-domain-configure.png",alt:"",width:800,height:703,priority:!1}),(0,h.jsx)("p",{children:'You should first add your DNS or CNAME settings to your domain manager first, then wait 48-72 hours. Once it\'s been 72 hours, come back to the Add Domain page then click the button "Add Domain". Once you click that button, the page will redirect back to your settings in the domain section. You should now see "pending" for your custom domain. It will take about 24 hours for the app platform to configure the rest.'}),(0,h.jsx)("p",{children:"Once it successfully configures, you will see a success message and log details (if you click view more). "}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-domain-success-primary.png",alt:"",width:800,height:444,priority:!1}),(0,h.jsx)("p",{children:'Once you see "Active" as your status, repeat the steps to add "www" as a sub-domain (as seen below):'}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-add-subdomain.png",alt:"",width:800,height:680,priority:!1}),(0,h.jsx)("p",{children:"That's it! You should now just need to wait for the domain to update."}),(0,h.jsx)(r(),{src:"/blog/2021-03-11-jekyll-on-digital-ocean/jekyll-subdomain-pending.png",alt:"",width:800,height:202,priority:!1}),(0,h.jsx)("h2",{children:"Resources:"}),(0,h.jsxs)("ul",{className:"list-disc list-inside m-2",children:[(0,h.jsx)("li",{children:(0,h.jsx)("a",{className:"underline focus:ring-2",href:"https://github.com/jennifert/jekyll-site",rel:"nofollow noreferrer",children:"My personal site's repo"})}),(0,h.jsx)("li",{children:(0,h.jsx)("a",{className:"underline focus:ring-2",href:"https://devcenter.heroku.com/articles/ruby-versions",rel:"nofollow noreferrer",children:"Select your Ruby Version"})})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[337,675,636,6593,8792],()=>t(94)),_N_E=e.O()}]);